---
draft: false
title: Review of 2020 Open Source Contributon
description: What I've learned with open-source
slug: 2020-contributon
date: 2020-12-06T14:27:11.438Z
tags:
  - opensource
  - rust
categories:
  - open-source
---
As a little celebration for completion of my blog, I'm writing what I've experienced with the Open Source Contributon.

> **Note:** The Open Source Contributon is South Korean government-sponsored programme to encourage developers in open source contribution.

I joined RustPython team lead by [@youknowone](https://github.com/youknowone), and started to look around RustPython. For those who never heard about this awesome project, it's a Python interpreter written in Rust.

# Getting started

Since RustPython uses Gitter as its primary communication channel, we choosed Gitter too. The first thing I gotta do was run Python testsuite by running `cargo run --release -- -m test`. So I just run the command and--

![Screenshot of failing test](/images/uploads/1.png)

It didn't go as I expected. Turns out many of the features were left unimplemented on Windows, so the tests are not really ready for Windows. However that wasn't bad news at all; I could work on these issue! After all that was the purpose of this programme.

# sys.getwindowsversion

[getwindowsversion](https://docs.python.org/3.8/library/sys.html#sys.getwindowsversion) is a function specific to Windows, which returns the version information of currently running Windows. It was somewhat easy since all I gotta do was invoke [GetVersionExW](https://docs.microsoft.com/en-us/windows/win32/api/sysinfoapi/nf-sysinfoapi-getversionexw), and pass the result to the Python code.

![The issue I opened to report a bug](/images/uploads/getwindowsversion-issue.png)

Opening an issue is pretty easy. Write down a log of errors, and possible causes, and some references, and now you just opened a issue with all the useful information for maintainers. The mentor (youknowone) commented where to look for fixing this and where should I add my implement ion so I could focus on implementing it without reading all of the source code for where to fix.

After asking so many question to the maintainer and the mentor, I opened [a PR](https://github.com/RustPython/RustPython/pull/2002) with some comments about the implementation. The mentor reviewed my PR and suggested to write some tests to ensure it's working, and although I had very little experience with testing he helped me to write the tests for the PR.

# Launching

The official schedule was not even begun until this. The launching event was held on July 25. Thanks to low COVID infection rate in Korea at the moment, we were able to gather and meet with each other.

The event was held on at Open UP, the host of the programme, and they talked about things to keep in mind when contributing, and some technical lessons like how to use GitHub. After that the mentor gave us brief introduction about RustPython and how we could contribute to it. He even helped other mentees to find an issue to get started! And happily, I was lucky to get encouragement for the PR I created.

# Make tests work

Actually I wanted to work on other issues than Windows-related, but other mentees are already working on them actively and considering I couldn't make sure my code will work without tests, I thought it would be better to work on Windows tests until it works.

Since then I worked primarily on Windows testing issues of RustPython. The second one was [msvcrt](https://docs.python.org/3.8/library/msvcrt.html) module, which gives you some functions from Microsoft Universal C Runtime, which is (kind of) Microsoft's C stdlib implementation.

![Screenshot showing 4 different Visual C++ Redistributable installations in Windows.](https://www.howtogeek.com/wp-content/uploads/2016/05/xc_1-650x495.png.pagespeed.gp+jp+jw+pj+ws+js+rj+rp+rw+ri+cp+md.ic.CStp5Wwbpz.png)

Python testcases depends on msvcrt module for some tinkering before actually running the tests. In other words they're not explicitly needed for running the test cases, but I don't want to remove that line just for running the tests, so I just implemented one function that was required.

# Implementing `os` functions

Good news: the tests now work. Bad news: I didn't say it passes; I said it works. It had (sadly) a number of failing tests, but I focused on the \`os\` module. Due to its nature it was implemented separately for each OS, but Windows one lacked a number of function compared to other OSes.

While I couldn't work on all of missing functions, I implemented three functions for Windows: `chmod`, `waitpid`, `execv`.

![The PRs I made on the os module for Windows: chmod, waitpid, execv](/images/uploads/prs.png)

Thankfully another mentee created PR for `execv` on other OS, so I looked up a lot on their code for implementing it and tweaked for Windows.